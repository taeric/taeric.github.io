<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Multiplying Polynomials for Fun.</title>
<!-- 2017-12-23 Sat 00:29 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Josh Berry" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org-overrides.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Multiplying Polynomials for Fun.</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Change for a dollar</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Change for a dollar</h2>
<div class="outline-text-2" id="text-1">
<p>
For some reason, I thought the code to multiply two polynomials
would be interesting to implement.  To see if I did it right, I
opted to solve the "change for a dollar" question this way.
</p>

<p>
I went with the naive approach of using sequences of all
coefficients as the parameters.  My first run of this was in the
scratch buffer, so copied to here gives us the following.
</p>

<div class="org-src-container">

<pre class="src src-elisp" id="in-elisp">(<span style="color: #fa9a4b; font-weight: bold;">defun</span> <span style="color: #72aaca;">pmult</span> (as bs)
  (<span style="color: #fa9a4b; font-weight: bold;">let</span> ((c (min (length as)
                (length bs))))
    (<span style="color: #fa9a4b; font-weight: bold;">loop</span> for i from 0 to c
          collect (apply '+
                         (<span style="color: #fa9a4b; font-weight: bold;">loop</span> for j from 0 to i
                               collect (* (<span style="color: #fa9a4b; font-weight: bold;">or</span> (nth j as) 0)
                                          (<span style="color: #fa9a4b; font-weight: bold;">or</span> (nth (- i j) bs) 0)))))))

(<span style="color: #fa9a4b; font-weight: bold;">defun</span> <span style="color: #72aaca;">make-change-seq</span> (d l)
  (<span style="color: #fa9a4b; font-weight: bold;">loop</span> for i from 0 to l
        collect (<span style="color: #fa9a4b; font-weight: bold;">if</span> (<span style="color: #fa9a4b; font-weight: bold;">or</span> (eq 0 i)
                        (eq 0 (mod i d)))
                    1
                  0)))

(<span style="color: #fa9a4b; font-weight: bold;">defun</span> <span style="color: #72aaca;">change-for-amount</span> (a)
  (nth a (pmult (make-change-seq 50 a)
                (pmult (make-change-seq 25 a)
                       (pmult (make-change-seq 10 a)
                              (pmult (make-change-seq 5 a)
                                     (make-change-seq 1 a)))))))

(mapcar 'change-for-amount '(1 5 10 25 50 100 200 300 400 500))
</pre>
</div>

<p>
Executing the above will give us the expected answers.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />
</colgroup>
<tbody>
<tr>
<td class="right">1</td>
<td class="right">2</td>
<td class="right">4</td>
<td class="right">13</td>
<td class="right">50</td>
<td class="right">292</td>
<td class="right">2435</td>
<td class="right">9590</td>
<td class="right">26517</td>
<td class="right">59576</td>
</tr>
</tbody>
</table>

<p>
I'm new to actually writing elisp, so I suspect I could have done a
few things more cleanly.  Regardless, I'm happy with this as a rough
implementation.
</p>

<p>
I am curious to know if this is any better than the recursive
solution for this question.  Just at a glance, this is more work.
With how long this takes, I seem to recall that my last attempt at
this recursively was a bit faster.
</p>

<p>
I will note, however, that the closed form solution of this can
answer how many ways to make change for a million dollars instantly.
So, this seems a much better example for why you should used closed
form if you can.  (Though, I guess this is not that much less
artificial than the typical example of Fibonacci.)
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Josh Berry</p>
<p class="date">Created: 2017-12-23 Sat 00:29</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.2 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
